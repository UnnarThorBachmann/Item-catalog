<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8">
  <title>Used Books for Sale</title>
  <!-- Bootstrap 3 -->
  <link href='https://fonts.googleapis.com/css?family=Titillium+Web:400,200,200italic,300,300italic,400italic,600,600italic,700,700italic,900|Fjalla+One' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap-theme.min.css">
  <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
  <script src="https://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
<script src="//apis.google.com/js/platform.js?onload=start"> </script>
<script>
  // This is called with the results from from FB.getLoginStatus().
  function connectServer() {
    var access_token = FB.getAuthResponse()['accessToken'];
    FB.api('/me', function(response) {
      console.log('Successful login for: ' + response.name);
      $.ajax({
        type: 'POST',
        url: '/fblogin?state={{STATE}}',
        processData: false,
        data: access_token,
        contentType: 'application/octet-stream; charset=utf-8',
        success: function(result) {
          // Handle or verify the server response if necessary.
          if(!result) {
            $('#errorFbLogin').html('Facebook login failed');
          }
        }
      });
    });
  }
  /*
  function connectToSever(response) {
    console.log(response);
    console.log('prump');
    /*
    if (response.status === 'connected') {
      // Logged into your app and Facebook.
      testAPI();
    } else if (response.status === 'not_authorized') {
      // The person is logged into Facebook, but not your app.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into this app.';
    } else {
      // The person is not logged into Facebook, so we're not sure if
      // they are logged into this app or not.
      document.getElementById('status').innerHTML = 'Please log ' +
        'into Facebook.';
    }
  }
  */
  // This function is called when someone finishes with the Login
  // Button.  See the onlogin handler attached to it in the sample
  // code below.


  window.fbAsyncInit = function() {
    FB.init({
      appId      : '858989607565199',
      cookie     : true,  // enable cookies to allow the server to access 
      xfbml      : true,  // parse social plugins on this page
      version    : 'v2.7' // use graph api version 2.5
    });
  };

  // Load the SDK asynchronously
  (function(d, s, id) {
    var js, fjs = d.getElementsByTagName(s)[0];
    if (d.getElementById(id)) return;
    js = d.createElement(s); js.id = id;
    js.src = "//connect.facebook.net/en_US/sdk.js";
    fjs.parentNode.insertBefore(js, fjs);
  }(document, 'script', 'facebook-jssdk'));
  // Fleiri f√∂ll.

</script>
  <style type="text/css" media="screen">
    body {
            background-color: lightgray;
            color: #333d51;
            margin: 0%;
            padding: 0%;
            margin: 0%;
            font-family: 'Fjalla One', sans-serif;
            font-size: 16px;
        }
        h3 {
          line-height: 200%;
        }
        h3,
        h4,
        h5,
        h6,
        {
          color: #f4f3ea;
        }
       h1 {
        color: white;
       }
       h2,p,label {
        color: black;
       }
       button {
        margin-right: 8px;
        margin-left:8px;
       }
       a.hvitur {
        color: white;
       }
       .error {
        color: red;
       }

       .header-left {
         display: inline-block; 
         width: 40%;
         padding-left: 5%;
         margin-bottom: 50px;
       }
       .items {
        float: right;
        margin-right: 10%;
       }
       h1 a:link {
        color:white; 
        background-color:transparent; 
        text-decoration:none;
       }
       h1 a:visited {
        color: white; 
        background-color: transparent; 
        text-decoration: none;
       }
       h1 a:hover {
        color:white; 
        background-color: transparent; 
        text-decoration: none;
       }
       h1 a:active {
        color:white; 
        background-color:transparent; 
        text-decoration:none
       }
       a.mainAnchor:link {
        color: red; 
        background-color: transparent; 
        text-decoration: none;
       }
       a.mainAnchor:visited {
        color: red; 
        background-color: transparent; 
        text-decoration: none;
       }
       a.mainAnchor:hover {
        color: red; 
        background-color: transparent; 
        text-decoration: none;
       }
       a.mainAnchor:active {
        color: red; 
        background-color: transparent; 
        text-decoration: none;
       }
       span.categories {
        color: grey;
        background-color: transparent;
       }
       span.date {
        color: gray;
        float: right;
       }
       .btn-navbar {
        border: 5%;
       }
       .header-right {
         display: inline-block; 
         width: 50%;
       }
       .navbar-header {
         width: 100%;
         background-color: black;
       }
       .navbar-default {
        background-image: none;
        background-color: black;
       }
       .main {
        margin-left: 10%;
        margin-right: 10%;
       }
       .hidden {
        display: none;
       }
       .btn-default {
         color: white;
         background-color: red;
         background-image: none;
         border-color: red;
       }
       .categories {
        display: inline-block;
        width: 40%;
       }
       .items {
        display: inline-block;
        width: 50%;
        padding-left: 10%;
       }
       .jumbotron {
        margin-left: 10%;
        margin-right: 10%;
        background-color: white;
       }
       .links {
        color: red;
       }
       .btn-group-vertical {
        width: 60%;
       }
       @media screen and (max-width: 500px) {

      }
    </style>
</head>
  <body>

  <nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="header-left">
      <h1><a href = "/">Used Books for Sale</a></h1>
    </div>
    <form class="navbar-form navbar-right">
      <button type="button" class="{{loginButtonHide}} btn btn-default navbar-btn" id="login">Log in
      </button>
      <button type="button" class="{{logoutButtonHide}} btn btn-default navbar-btn" id="logout">Log out
      </button>
    </form>
    
  </div>
  </nav>

  {% block content %}

  {%endblock%} 
  </body>
  <script  type="text/javascript">
   var logInButton = document.getElementById('login');
    logInButton.addEventListener('click',function() {
      location.href = "{{url_for('showLogIn')}}";
    });
    var logOutButton = document.getElementById('logout');
    logOutButton.addEventListener('click',function() {
      location.href = "{{url_for('logOut')}}";
    });
    var addButton = document.getElementById('addButton');
    if (addButton != null) {
      addButton.addEventListener('click',function() {
      location.href = "{{url_for('newItem')}}";
      });
    }
  </script>

</html>
